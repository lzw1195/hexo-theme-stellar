:root
  --site-bg: $light-site-bg
  --block: $light-block
  --code: darken($light-block, 5)
  --block-border: darken($light-block, 5)
  --block-hover: darken($light-block, 2)
  --text-p0: $light-title
  --text-p1: $light-text
  --text-p2: mix($light-text, $light-site-bg, 80)
  --text-p3: mix($light-text, $light-site-bg, 60)
  --text-p4: mix($light-text, $light-site-bg, 35)
  --text-meta: mix($light-text, $light-site-bg, 20)
  --text-code: $light-code
  --card: $light-card
  --theme-highlight: darken($color-theme, 5)
  --theme-bg: mix($color-theme, $light-card, 10)
  // 阴影
  --shadow-1: darken($white, 10)
  --shadow-2: darken($white, 0)
  // 文本代码块
  --code-gradient-light: #cff0ff
  --code-gradient-dark: #afcafd

set_darkmode()
  :root
    --site-bg: $dark-site-bg
    --block: $dark-block
    --code: $dark-block
    --block-border: lighten($dark-block, 6)
    --block-hover: darken($dark-block, 4)
    --text-p0: $dark-title
    --text-p1: mix($dark-text, $dark-site-bg, 85)
    --text-p2: mix($dark-text, $dark-site-bg, 70)
    --text-p3: mix($dark-text, $dark-site-bg, 45)
    --text-p4: mix($dark-text, $dark-site-bg, 35)
    --text-meta: mix($dark-text, $dark-site-bg, 30)
    --text-code: $dark-code
    --card: $dark-card
    --theme-highlight: $color-theme
    --theme-bg: mix($color-theme, $dark-card, 10)
    // 阴影
    --shadow-1: lighten($black, 15)
    --shadow-2: lighten($black, 22)
    // 文本代码块
    --code-gradient-light: lighten($black, 8)
    --code-gradient-dark: lighten($black, 8)

    @media screen and (max-width: $device-tablet)
      --site-bg: $dark-site-bg-mobile
      --card: darken($dark-card, 6)
      --block: darken($dark-block, 4)
      --block-border: lighten($dark-block, 2)
      --block-hover: darken($dark-block,8)

if hexo-config('style.darkmode') == 'auto'
  // 系统的dark模式
  @media (prefers-color-scheme: dark)
    set_darkmode()


if hexo-config('style.darkmode') == 'always'
  set_darkmode()
